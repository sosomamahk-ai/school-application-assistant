# 📘 主模板使用指南

## 🎯 什么是主模板？

**主模板**是一个包含**所有个人资料字段**的完整模板，包括：
- ✅ 基本信息（12个字段）
- ✅ 联系方式（5个字段）
- ✅ 语言能力（4个字段）
- ✅ 标化考试成绩（9个字段）
- ✅ 现有教育背景（6个字段）
- ✅ 父亲信息（9个字段）
- ✅ 母亲信息（9个字段）
- ✅ 活动与获奖（6个字段）
- ✅ 特殊情况（4个字段）
- ✅ 文书与陈述（5个字段）

**总计：69个字段**，覆盖所有可能的申请表需求！

---

## 💡 为什么需要主模板？

### 问题
不同学校的申请表要求不同：
- 国际学校需要：护照、TOEFL、Personal Statement
- 本地中学需要：香港身份证、中英数成绩
- 幼稚园需要：出生证明、健康状况
- 大学需要：SAT、GPA、Career Goals

### 解决方案
**主模板** = 所有字段的集合

创建新学校时：
1. 基于主模板创建
2. 删除不需要的字段
3. 保留需要的字段
4. 调整必填/选填
5. 保存

✅ **简单、快速、不遗漏！**

---

## 🚀 快速开始

### 第1步：导入主模板

#### 方法：使用 Supabase SQL Editor

1. **登录 Supabase**
   ```
   https://supabase.com/dashboard
   ```

2. **进入 SQL Editor**
   - 左侧菜单点击 **"SQL Editor"**
   - 点击 **"New query"**

3. **运行主模板脚本**
   - 打开文件 `template-examples/master-template.sql`
   - 复制所有内容
   - 粘贴到 SQL Editor
   - 点击 **"Run"**

4. **验证导入成功**
   - 底部显示查询结果
   - 看到 `template-master-all-fields` 记录

---

### 第2步：访问管理后台

```
https://school-application-assistant.vercel.app/admin/templates
```

您应该能看到新的模板：

```
┌─────────────────────────────────────────┐
│ [主模板] 完整字段库      [国际学校] [已禁用] │
│ 包含所有个人资料字段的主模板              │
│ 字段数: 10 sections                     │
└─────────────────────────────────────────┘
```

> ⚠️ 注意：主模板默认是 **已禁用** 状态，不会在学生端显示

---

### 第3步：基于主模板创建新学校

#### 示例：创建哈罗香港国际学校

1. **点击"创建新模板"按钮**
   - 下拉菜单打开

2. **选择主模板**
   - 点击 **"[主模板] 完整字段库"**
   - 系统自动复制所有69个字段

3. **填写学校信息**
   ```
   学校ID: harrow-hk-2024
   学校名称: 哈罗香港国际学校
   项目名称: 2024-2025 年度入学申请
   类别: 国际学校
   ```

4. **删减字段**（只保留国际学校需要的）

   **保留的字段：**
   - ✅ 基本信息（全部保留）
   - ✅ 联系方式（全部保留）
   - ✅ 语言能力（全部保留）
   - ✅ 标化考试：TOEFL, IELTS, MAP, CAT4
   - ❌ 删除：小托福, KET/PET, SAT, ACT（不需要）
   - ✅ 现有教育背景（全部保留）
   - ✅ 父母信息（简化，只保留姓名、电话、邮箱）
   - ✅ 活动与获奖（全部保留）
   - ✅ 特殊情况（保留特殊教育需求和健康状况）
   - ✅ 文书：Personal Statement, Why This School

5. **保存模板**
   - 点击"保存模板"
   - 完成！

---

## 📋 各类别学校建议保留的字段

### 🔵 国际学校

**必须保留：**
- 基本信息（全部）
- 英文姓名、护照号码
- 联系方式（全部）
- 语言能力（全部）
- TOEFL/IELTS/MAP/CAT4
- 现有教育背景
- 父母基本信息
- 活动与获奖（全部）
- Personal Statement

**可删除：**
- 香港身份证
- 小托福、剑桥考试
- SAT/ACT（除非是大学预科）
- 父母详细工作信息
- 留级/跳级

---

### 🟢 香港本地中学

**必须保留：**
- 中文姓名
- 香港身份证号码
- 联系方式（全部）
- 现就读学校、年级
- 父母中文姓名、电话、地址
- 课外活动
- 为什么选择本校

**可删除：**
- 护照号码
- 种族
- TOEFL/IELTS
- SAT/ACT
- 父母工作详细信息
- Personal Statement（改用中文版）
- Career Goals

---

### 🟡 香港本地小学

**必须保留：**
- 中文姓名
- 香港身份证（或出生证明）
- 联系方式（父母）
- 父母中文姓名、电话
- 家庭地址
- 兄弟姊妹信息
- 特殊需要
- 健康状况

**可删除：**
- 护照号码
- 所有标化考试
- 现有教育背景（可简化）
- 父母工作详情
- 活动与获奖（可简化）
- 所有文书
- Career Goals

---

### 🩷 香港幼稚园

**必须保留：**
- 中文姓名
- 英文姓名（小名）
- 出生日期
- 父母姓名、职业、电话
- 家庭地址
- 健康状况
- 兄弟姊妹信息

**可删除：**
- 护照号码
- 香港身份证（用出生证明代替）
- 所有标化考试
- 所有教育背景
- 所有活动与获奖
- 所有文书
- 特殊教育需求（可简化为"健康状况"）

---

### 🟣 大学

**必须保留：**
- 基本信息（全部）
- 联系方式（全部）
- 语言能力
- TOEFL/IELTS
- SAT/ACT
- 现有教育背景（全部）
- GPA
- 活动与获奖（全部）
- Personal Statement
- Academic Interests
- Career Goals
- Additional Information

**可删除：**
- 小托福
- 剑桥考试
- 父母详细工作信息（可简化）
- 健康状况
- 留级/跳级
- 兄弟姊妹信息

---

## 🎨 使用场景示例

### 场景1：创建多所国际学校

```
第一所学校：
1. 基于主模板创建 "哈罗香港"
2. 删减字段（保留国际学校常用字段）
3. 保存

第二所学校：
1. 基于 "哈罗香港" 创建 "弘立书院"
2. 微调字段（如添加中文要求）
3. 保存

第三所学校：
1. 基于 "弘立书院" 创建 "耀中国际"
2. 微调字段
3. 保存
```

✅ **效率提升：** 第一所学校花10分钟，后续学校只需2-3分钟！

---

### 场景2：不同类别学校

```
创建国际学校：
基于主模板 → 保留69个字段中的45个

创建本地中学：
基于主模板 → 保留69个字段中的30个

创建幼稚园：
基于主模板 → 保留69个字段中的15个

创建大学：
基于主模板 → 保留69个字段中的50个
```

✅ **灵活性：** 所有字段都可用，根据需要选择

---

## 🔧 高级技巧

### 技巧1：调整必填/选填

创建学校后，根据实际要求调整：

```json
{
  "id": "passport_number",
  "required": true   // 改为 true 变必填
}
```

```json
{
  "id": "personal_statement",
  "required": false  // 改为 false 变选填
}
```

---

### 技巧2：修改字段顺序

调整 `fieldsData` 数组顺序：

```json
[
  {"id": "basic_info", ...},      // 第1部分
  {"id": "contact_info", ...},    // 第2部分
  {"id": "parent_info", ...}      // 第3部分（调整到前面）
]
```

---

### 技巧3：自定义字段标签

修改中英文标签：

```json
{
  "id": "personal_statement",
  "label": "个人陈述 (300-500字)",  // 自定义标签
  "maxLength": 500                 // 限制字数
}
```

---

### 技巧4：添加新字段

如果主模板没有您需要的字段，可以手动添加：

```json
{
  "id": "new_custom_field",
  "label": "自定义字段",
  "type": "text",
  "required": false,
  "helpText": "说明文字"
}
```

---

## 📊 主模板完整字段清单

### 1. 基本信息 (12 字段)
- ✅ 中文姓
- ✅ 中文名
- ✅ 英文姓
- ✅ 英文名
- ✅ 常用名
- ✅ 种族
- ✅ 性别
- ✅ 国籍
- ✅ 出生日期
- ✅ 护照号码
- ✅ 香港身份证
- ✅ 签证情况

### 2. 联系方式 (5 字段)
- ✅ 学生电话
- ✅ 学生邮箱
- ✅ 家长电话
- ✅ 家长邮箱
- ✅ 家庭地址

### 3. 语言能力 (4 字段)
- ✅ 母语
- ✅ 第二外语
- ✅ 英语流利程度
- ✅ 中文流利程度

### 4. 标化考试 (9 字段)
- ✅ TOEFL
- ✅ IELTS
- ✅ 小托福
- ✅ 剑桥英语 (KET/PET/FCE)
- ✅ MAP
- ✅ CAT4
- ✅ SAT
- ✅ ACT
- ✅ 其他考试

### 5. 现有教育背景 (6 字段)
- ✅ 现就读学校
- ✅ 现就读年级
- ✅ 年级制度
- ✅ 入学时间
- ✅ GPA/平均成绩
- ✅ 学业成绩说明

### 6. 父亲信息 (9 字段)
- ✅ 姓名
- ✅ 护照号码
- ✅ 身份证号码
- ✅ 签证情况
- ✅ 工作单位
- ✅ 职位
- ✅ 工作电话
- ✅ 工作邮箱
- ✅ 学历

### 7. 母亲信息 (9 字段)
- ✅ 姓名
- ✅ 护照号码
- ✅ 身份证号码
- ✅ 签证情况
- ✅ 工作单位
- ✅ 职位
- ✅ 工作电话
- ✅ 工作邮箱
- ✅ 学历

### 8. 活动与获奖 (6 字段)
- ✅ 课外活动
- ✅ 领导职位
- ✅ 荣誉与奖项
- ✅ 竞赛经历
- ✅ 志愿服务
- ✅ 体育与艺术

### 9. 特殊情况 (4 字段)
- ✅ 特殊教育需求
- ✅ 健康情况
- ✅ 留级或跳级经历
- ✅ 兄弟姊妹信息

### 10. 文书与陈述 (5 字段)
- ✅ 个人陈述
- ✅ 为什么选择本校
- ✅ 学术兴趣
- ✅ 职业目标
- ✅ 补充信息

---

## 🎯 最佳实践

### ✅ DO（推荐做法）

1. **第一次创建学校时使用主模板**
   - 确保不遗漏任何重要字段

2. **仔细删减不需要的字段**
   - 太多字段会让学生感到繁琐

3. **保存后再基于具体学校创建类似学校**
   - 如："哈罗香港" → "弘立书院"

4. **定期备份导出模板**
   - 点击"导出"按钮保存 JSON

5. **为每个字段添加 helpText**
   - 帮助学生理解如何填写

---

### ❌ DON'T（避免的做法）

1. **不要在主模板上直接修改**
   - 始终"基于主模板创建"，而不是"编辑主模板"

2. **不要保留所有69个字段**
   - 根据学校实际需求删减

3. **不要忽略必填/选填设置**
   - 太多必填字段会降低完成率

4. **不要删除 `aiFillRule`**
   - 这些规则帮助自动填充数据

5. **不要启用主模板**
   - 保持 `isActive: false`，避免学生看到

---

## 💡 常见问题

### Q1: 主模板可以删除吗？

**答：** 不建议删除。它是您创建所有学校的基础。如果不想在列表中看到它，可以筛选掉系统模板。

### Q2: 我可以修改主模板吗？

**答：** 可以，但不建议。如果您添加了新字段，应该：
1. 导出主模板 JSON
2. 添加新字段
3. 导入更新后的模板

### Q3: 为什么主模板是"已禁用"？

**答：** 因为它包含所有字段（69个），太多了，不适合直接用于申请。它是用来创建其他模板的基础。

### Q4: 如何更新现有学校的字段？

**答：**
1. 进入管理后台
2. 点击学校的"编辑"按钮
3. 在 JSON 编辑器中修改
4. 保存

### Q5: 我可以添加更多字段到主模板吗？

**答：** 当然可以！编辑主模板，添加新的字段定义，然后保存。新创建的学校将包含这些新字段。

---

## 🚀 快速参考

### 创建新学校的步骤

```
1. 点击 "创建新模板"
   ↓
2. 选择 "[主模板] 完整字段库"
   ↓
3. 填写学校基本信息
   ↓
4. 删减不需要的字段
   ↓
5. 调整必填/选填设置
   ↓
6. 保存模板
   ↓
7. 完成！学生可以申请
```

### 字段删减速查表

| 学校类型 | 保留字段数 | 主要删除 |
|---------|-----------|---------|
| 国际学校 | ~45 | SAT/ACT, 小托福 |
| 本地中学 | ~30 | 护照, TOEFL, 所有文书 |
| 本地小学 | ~15 | 所有考试, 活动, 文书 |
| 幼稚园 | ~12 | 所有考试, 教育背景, 文书 |
| 大学 | ~50 | 小托福, 剑桥考试 |

---

## 📞 需要帮助？

如果您在使用主模板时遇到问题：

1. **查看 CATEGORY_TEMPLATES_GUIDE.md**
   - 完整的类别模板指南

2. **查看模板示例**
   - `template-examples/` 文件夹中有各种示例

3. **检查 JSON 格式**
   - 确保 JSON 语法正确
   - 使用在线 JSON 验证器

---

## 🎉 总结

**主模板的优势：**
- ✅ 一次导入，终身使用
- ✅ 包含所有可能的字段
- ✅ 支持所有类型学校
- ✅ 智能自动填充规则
- ✅ 灵活删减和调整
- ✅ 节省大量时间

**开始使用主模板，轻松创建任何学校的申请表！** 🚀

---

**祝您使用愉快！** 🎊

